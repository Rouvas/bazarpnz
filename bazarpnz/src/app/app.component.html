<!-- Шапка -->
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "timer" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
<div class="lime-header">
  <nav class="navbar navbar-expand-lg">

      <a class="navbar-brand" href="#">BazarPNZ</a>
      <span dropdown>
      <button class="navbar-toggler" type="button" id="basic-link" dropdownToggle data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" (click)="openModal(menu)" onclick="return false;">
          <i class="material-icons">keyboard_arrow_down</i>
      </button>
      <!-- <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>
        <li><a class="dropdown-item" href="#">Главная страница</a></li>
        <li><a class="dropdown-item" href="./lk">Личный кабинет</a></li>
        <li class="divider"></li>
        <li><a class="dropdown-item" href="#">Выйти из аккаунта</a></li>

    </ul> -->
    </span>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <form class="form-inline my-2 my-lg-0 search">
              <input name="Search" class="form-control mr-sm-2" type="search" placeholder="Поиск по названиям объявлений..." aria-label="Search" [(ngModel)]="selectedValue"  [typeahead]="Search"  typeaheadOptionField="name" (typeaheadOnSelect)="onSelect($event)">
          </form>
          <ul class="navbar-nav ml-auto" >
              <li class="nav-item dropdown" dropdown>
                  <a class="nav-link dropdown-toggle" href="#" dropdownToggle role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" onclick="return false;">
                      <i class="material-icons">more_vert</i>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>
                      <li><a class="dropdown-item" routerLink="/" >Главная страница</a></li>
                      <li *ngIf="auth.user | async as user; else showLogin"><a class="dropdown-item" routerLink="/lk">Личный кабинет</a></li>
                      <ng-template #showLogin>
                        <a class="dropdown-item" routerLink="/auth" >Войти или зарегестрироваться</a>
                      </ng-template>
                      <li class="divider" *ngIf="auth.user | async as user;"></li>
                      <li *ngIf="auth.user | async as user;"><a class="dropdown-item" href="#"  (click)="onLogout()" onclick="return false;">Выйти из аккаунта</a></li>

                  </ul>
              </li>
          </ul>
      </div>
  </nav>
</div>

<!-- Блоки -->
<router-outlet></router-outlet>

<!-- Подвал -->
<!-- <footer class="no-print">
  <div class="mini-footer">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="copyright-text">
            <p>© 2020
              Школа 68 г. Пензы, Пензенской области.
             <br></p>
             <div *ngIf="auth.user | async as user; else showLogin">
               <button class="btn btn-success" routerLink = "/setup" routerLinkActive="active-link" style="margin-right: 5px;" >Войти в редактор</button>
               <button class="btn btn-warning" (click)="onLogout()" >Выход из аккаунта</button>
              </div>
             
             <ng-template #showLogin>
              <a routerLink="/auth" routerLinkActive="active" >Авторизация</a>
            </ng-template>
            <p class="font-weight-light">Версия 2.0</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer> -->

<ng-template #menu>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Навигация</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <div class="container">
          
      <div class="card">
          <article class="card-body">
            <label style="justify-content: center;">Поиск по названиям объявлений</label>
            <form class="form-inline my-2 my-lg-0 search justify-content-center">
              <input name="Search" class="form-control mr-sm-2" type="search" placeholder="Поиск по названиям объявлений..." aria-label="Search" [(ngModel)]="selectedValue"  [typeahead]="Search"  typeaheadOptionField="name" (typeaheadOnSelect)="onSelect($event); modalRef.hide();">
          </form>

          <button  href="##" (click)="onClose('/')" class="btn btn-info btn-block" style="margin-top:10px"> Главная страница  </button>
          <button  href="##" (click)="onClose('/lk')" class="btn btn-info btn-block"> Личный кабинет  </button>
          
           <hr>
           <ng-template #showLoginMobile>
            <button  href="##" (click)="onClose('/auth')" class="btn btn-primary btn-block"> Войти или зарегестрироваться  </button>
          </ng-template>
           <button  *ngIf="auth.user | async as user; else showLoginMobile" href="##" (click)="onLogout()" class="btn btn-primary btn-block"> Выйти из аккаунта  </button>
      
    
 
          </article>
      
          </div>
      
      
      </div>
  </div>
</ng-template>